<!DOCTYPE html>
<html>
<head>
  <title>Hridoy Mining App</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body style="text-align:center; font-family:sans-serif; background:#0f172a; color:white;">

  <h1>ðŸ”¥ Hridoy Mining App</h1>
  <h2 id="balance">Balance: Loading...</h2>

  <button onclick="startMining()" style="padding:15px 30px; font-size:18px; background:lime; border:none; border-radius:10px;">
    Start Mining
  </button>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-database-compat.js"></script>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyDWvXsFqeeSxaWj0ySZXlxGwW0RlUGnVAg",
      authDomain: "hridoy-web-c06d2.firebaseapp.com",
      projectId: "hridoy-web-c06d2",
      storageBucket: "hridoy-web-c06d2.firebasestorage.app",
      messagingSenderId: "323558167500",
      appId: "1:323558167500:web:8bfaf6711b72c846fec369",
      measurementId: "G-03Q1E724TP"
    };

    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();

    let balance = 0;
    let mining = false;
    let userRef = database.ref("users/user1");

    // Load balance first
    userRef.once("value").then((snapshot) => {
      const data = snapshot.val();
      if (data && data.coins) {
        balance = data.coins;
      } else {
        balance = 0;
      }
      document.getElementById("balance").innerText = "Balance: " + balance + " Coins";
    });

    function startMining() {
      if (mining) return;
      mining = true;

      setInterval(() => {
        balance++;
        document.getElementById("balance").innerText = "Balance: " + balance + " Coins";

        userRef.set({
          coins: balance
        });

      }, 1000);
    }
  </script>

</body>
</html>
